<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QextSerialPort: Win_QextSerialPort Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Win_QextSerialPort Class Reference</h1><code>#include &lt;win_qextserialport.h&gt;</code>
<p>
<p>Inheritance diagram for Win_QextSerialPort:
<p><center><img src="classWin__QextSerialPort.png" usemap="#Win_QextSerialPort_map" border="0" alt=""></center>
<map name="Win_QextSerialPort_map">
<area href="classQextSerialBase.html" alt="QextSerialBase" shape="rect" coords="0,0,122,24">
</map>
<a href="classWin__QextSerialPort-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta0">Win_QextSerialPort</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta1">Win_QextSerialPort</a> (<a class="el" href="classWin__QextSerialPort.html">Win_QextSerialPort</a> const &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta2">Win_QextSerialPort</a> (const QString &amp;name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta3">Win_QextSerialPort</a> (const <a class="el" href="struct__PortSettings.html">PortSettings</a> &amp;settings)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta4">Win_QextSerialPort</a> (const QString &amp;name, const <a class="el" href="struct__PortSettings.html">PortSettings</a> &amp;settings)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classWin__QextSerialPort.html">Win_QextSerialPort</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta5">operator=</a> (const <a class="el" href="classWin__QextSerialPort.html">Win_QextSerialPort</a> &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta6">~Win_QextSerialPort</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta7">open</a> (int mode=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta8">close</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta9">flush</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual qint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta10">size</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta11">getChar</a> (char *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta12">putChar</a> (char c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta13">ungetChar</a> (char c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta14">setFlowControl</a> (<a class="el" href="qextserialbase_8h.html#a5">FlowType</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta15">setParity</a> (<a class="el" href="qextserialbase_8h.html#a3">ParityType</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta16">setDataBits</a> (<a class="el" href="qextserialbase_8h.html#a2">DataBitsType</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta17">setStopBits</a> (<a class="el" href="qextserialbase_8h.html#a4">StopBitsType</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta18">setBaudRate</a> (<a class="el" href="qextserialbase_8h.html#a1">BaudRateType</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta19">setDtr</a> (bool set=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta20">setRts</a> (bool set=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta21">lineStatus</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual qint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta22">bytesAvailable</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta23">translateError</a> (unsigned long)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta24">setTimeout</a> (unsigned long=0, unsigned long=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual qint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta25">readData</a> (char *data, qint64 maxSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual qint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta26">writeData</a> (const char *data, qint64 maxSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta27">construct</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta28">setPortName</a> (const QString &amp;name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta29">portName</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="qextserialbase_8h.html#a1">BaudRateType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta30">baudRate</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="qextserialbase_8h.html#a2">DataBitsType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta31">dataBits</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="qextserialbase_8h.html#a3">ParityType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta32">parity</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="qextserialbase_8h.html#a4">StopBitsType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta33">stopBits</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="qextserialbase_8h.html#a5">FlowType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta34">flowControl</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta35">setTimeout</a> (ulong, ulong)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta36">open</a> (OpenMode mode=0)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta37">isOpen</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta38">atEnd</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual qint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta39">readLine</a> (char *data, qint64 maxSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual ulong&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta40">lastError</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPorta41">translateError</a> (ulong error)=0</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">HANDLE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">COMMCONFIG&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">COMMTIMEOUTS&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_CommTimeouts</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPortp3">port</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__PortSettings.html">PortSettings</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ulong&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a></td></tr>

<tr><td colspan="2"><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static QMutex *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPortt0">mutex</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static ulong&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQextSerialBase.html#Win__QextSerialPortt1">refCount</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl compact><dt><b>Version:</b></dt><dd>1.0.0 </dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>Stefan Sander</dd></dl>
A cross-platform serial port class. This class encapsulates the Windows portion of <a class="el" href="classQextSerialPort.html">QextSerialPort</a>. The user will be notified of errors and possible portability conflicts at run-time by default - this behavior can be turned off by defining _TTY_NOWARN_ (to turn off all warnings) or _TTY_NOWARN_PORT_ (to turn off portability warnings) in the project. Note that defining _TTY_NOWARN_ also defines _TTY_NOWARN_PORT_.<p>
<dl compact><dt><b>Note:</b></dt><dd>On Windows NT/2000/XP this class uses Win32 serial port functions by default. The user may select POSIX behavior under NT, 2000, or XP ONLY by defining _TTY_POSIX_ in the project. I can make no guarantees as to the quality of POSIX support under NT/2000 however. </dd></dl>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="Win__QextSerialPorta0" doxytag="Win_QextSerialPort::Win_QextSerialPort"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Win_QextSerialPort::Win_QextSerialPort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Default constructor. Note that the name of the device used by a Win_QextSerialPort constructed with this constructor will be determined by #defined constants, or lack thereof - the default behavior is the same as _TTY_LINUX_. Possible naming conventions and their associated constants are:<p>
<div class="fragment"><pre class="fragment">

Constant         Used By         Naming Convention
----------       -------------   ------------------------
_TTY_WIN_        Windows         COM1, COM2
_TTY_IRIX_       SGI/IRIX        /dev/ttyf1, /dev/ttyf2
_TTY_HPUX_       HP-UX           /dev/tty1p0, /dev/tty2p0
_TTY_SUN_        SunOS/Solaris   /dev/ttya, /dev/ttyb
_TTY_DIGITAL_    Digital UNIX    /dev/tty01, /dev/tty02
_TTY_FREEBSD_    FreeBSD         /dev/ttyd0, /dev/ttyd1
_TTY_LINUX_      Linux           /dev/ttyS0, /dev/ttyS1
&lt;none&gt;           Linux           /dev/ttyS0, /dev/ttyS1
</pre></div><p>
This constructor associates the object with the first port on the system, e.g. COM1 for Windows platforms. See the other constructor if you need a port other than the first. <div class="fragment"><pre class="fragment">00047                                       :<a class="code" href="classQextSerialBase.html#QextSerialBasea0">QextSerialBase</a>() {
00048     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=INVALID_HANDLE_VALUE;
00049 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta1" doxytag="Win_QextSerialPort::Win_QextSerialPort"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Win_QextSerialPort::Win_QextSerialPort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classWin__QextSerialPort.html">Win_QextSerialPort</a> const &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>s</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta1">Win_QextSerialPort::Win_QextSerialPort(const Win_QextSerialPort&amp;)</a> Copy constructor. <div class="fragment"><pre class="fragment">00054                                                                  :<a class="code" href="classQextSerialBase.html#QextSerialBasea0">QextSerialBase</a>(s.port) {
00055     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=INVALID_HANDLE_VALUE;
00056     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>=s.portOpen;
00057     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=s.lastErr;
00058     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp3">port</a> = s.port;
00059     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>=s.Settings.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>;
00060     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>=s.Settings.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>;
00061     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>=s.Settings.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>;
00062     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>=s.Settings.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>;
00063     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=s.Settings.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>;
00064     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=s.Win_Handle;
00065     memcpy(&amp;Win_CommConfig, &amp;s.Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00066     memcpy(&amp;Win_CommTimeouts, &amp;s.Win_CommTimeouts, <span class="keyword">sizeof</span>(COMMTIMEOUTS));
00067 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta2" doxytag="Win_QextSerialPort::Win_QextSerialPort"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Win_QextSerialPort::Win_QextSerialPort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QString &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructs a serial port attached to the port specified by devName. devName is the name of the device, which is windowsystem-specific, e.g."COM2" or "/dev/ttyS0". <div class="fragment"><pre class="fragment">00075                                                           :<a class="code" href="classQextSerialBase.html#QextSerialBasea0">QextSerialBase</a>(name) {
00076     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=INVALID_HANDLE_VALUE;
00077 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta3" doxytag="Win_QextSerialPort::Win_QextSerialPort"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Win_QextSerialPort::Win_QextSerialPort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__PortSettings.html">PortSettings</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>settings</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructs a port with default name and specified settings. <div class="fragment"><pre class="fragment">00083                                                                    {
00084     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=INVALID_HANDLE_VALUE;
00085     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta18">setBaudRate</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>);
00086     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta16">setDataBits</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>);
00087     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta17">setStopBits</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>);
00088     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta15">setParity</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>);
00089     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta14">setFlowControl</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>);
00090     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta24">setTimeout</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso5">Timeout_Sec</a>, settings.<a class="code" href="struct__PortSettings.html#__PortSettingso6">Timeout_Millisec</a>);
00091 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta4" doxytag="Win_QextSerialPort::Win_QextSerialPort"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Win_QextSerialPort::Win_QextSerialPort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="struct__PortSettings.html">PortSettings</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>settings</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructs a port with specified name and settings. <div class="fragment"><pre class="fragment">00097                                                                                          {
00098     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=INVALID_HANDLE_VALUE;
00099     <a class="code" href="classQextSerialBase.html#Win__QextSerialPorta28">setPortName</a>(name);
00100     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta18">setBaudRate</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>);
00101     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta16">setDataBits</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>);
00102     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta17">setStopBits</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>);
00103     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta15">setParity</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>);
00104     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta14">setFlowControl</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>);
00105     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta24">setTimeout</a>(settings.<a class="code" href="struct__PortSettings.html#__PortSettingso5">Timeout_Sec</a>, settings.<a class="code" href="struct__PortSettings.html#__PortSettingso6">Timeout_Millisec</a>);
00106 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta6" doxytag="Win_QextSerialPort::~Win_QextSerialPort"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Win_QextSerialPort::~<a class="el" href="classWin__QextSerialPort.html">Win_QextSerialPort</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Standard destructor. <div class="fragment"><pre class="fragment">00112                                         {
00113     <span class="keywordflow">if</span> (portOpen) {
00114         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta8">close</a>();
00115     }
00116 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="Win__QextSerialPorta5" doxytag="Win_QextSerialPort::operator="></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classWin__QextSerialPort.html">Win_QextSerialPort</a> &amp; Win_QextSerialPort::operator=           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classWin__QextSerialPort.html">Win_QextSerialPort</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>s</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
overrides the = operator <div class="fragment"><pre class="fragment">00122                                                                              {
00123     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>=s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPorta37">isOpen</a>();
00124     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>;
00125     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp3">port</a> = s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp3">port</a>;
00126     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>=s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>;
00127     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>=s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>;
00128     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>=s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>;
00129     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>=s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>;
00130     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=s.<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>;
00131     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=s.<a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>;
00132     memcpy(&amp;Win_CommConfig, &amp;s.<a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>, <span class="keyword">sizeof</span>(COMMCONFIG));
00133     memcpy(&amp;Win_CommTimeouts, &amp;s.<a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_CommTimeouts</a>, <span class="keyword">sizeof</span>(COMMTIMEOUTS));
00134     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00135 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta7" doxytag="Win_QextSerialPort::open"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Win_QextSerialPort::open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mode</em> = <code>0</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Opens a serial port. Note that this function does not specify which device to open. If you need to open a device by name, see Win_QextSerialPort::open(const char*). This function has no effect if the port associated with the class is already open. The port is also configured to the current settings, as stored in the Settings structure. <div class="fragment"><pre class="fragment">00144                                  {
00145     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> confSize;
00146     LOCK_MUTEX();
00147     <span class="keywordflow">if</span> (!portOpen) {
00148 
00149         <span class="comment">/*open the port*/</span>
00150         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_Handle</a>=CreateFileA(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp3">port</a>.toAscii(), GENERIC_READ|GENERIC_WRITE,
00151                               FILE_SHARE_READ|FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL);
00152         <span class="keywordflow">if</span> (Win_Handle!=INVALID_HANDLE_VALUE) {
00153             <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>=<span class="keyword">true</span>;
00154 
00155             <span class="comment">/*configure port settings*/</span>
00156             GetCommConfig(Win_Handle, &amp;Win_CommConfig, &amp;confSize);
00157             GetCommState(Win_Handle, &amp;(<a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb));
00158 
00159             <span class="comment">/*set up parameters*/</span>
00160             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fBinary=TRUE;
00161             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fInX=FALSE;
00162             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fOutX=FALSE;
00163             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fAbortOnError=FALSE;
00164             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fNull=FALSE;
00165             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta18">setBaudRate</a>(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>);
00166             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta16">setDataBits</a>(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>);
00167             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta17">setStopBits</a>(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>);
00168             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta15">setParity</a>(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>);
00169             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta14">setFlowControl</a>(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>);
00170             <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta24">setTimeout</a>(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso5">Timeout_Sec</a>, <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso6">Timeout_Millisec</a>);
00171             SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00172         }
00173     }
00174     UNLOCK_MUTEX();
00175     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>;
00176 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta8" doxytag="Win_QextSerialPort::close"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::close           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Closes a serial port. This function has no effect if the serial port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea19">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00183                                {
00184     LOCK_MUTEX();
00185     CloseHandle(Win_Handle);
00186     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>=<span class="keyword">false</span>;
00187     UNLOCK_MUTEX();
00188 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta9" doxytag="Win_QextSerialPort::flush"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::flush           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flushes all pending I/O to the serial port. This function has no effect if the serial port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea20">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00195                                {
00196     LOCK_MUTEX();
00197     <span class="keywordflow">if</span> (portOpen) {
00198         FlushFileBuffers(Win_Handle);
00199     }
00200     UNLOCK_MUTEX();
00201 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta10" doxytag="Win_QextSerialPort::size"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">qint64 Win_QextSerialPort::size           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function will return the number of bytes waiting in the receive queue of the serial port. It is included primarily to provide a complete QIODevice interface, and will not record errors in the lastErr member (because it is const). This function is also not thread-safe - in multithreading situations, use <a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPorta22">Win_QextSerialPort::bytesAvailable()</a> instead. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea21">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00210                                       {
00211     <span class="keywordtype">int</span> availBytes;
00212     COMSTAT Win_ComStat;
00213     DWORD Win_ErrorMask=0;
00214     ClearCommError(Win_Handle, &amp;Win_ErrorMask, &amp;Win_ComStat);
00215     availBytes = Win_ComStat.cbInQue;
00216     <span class="keywordflow">return</span> (qint64)availBytes;
00217 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta11" doxytag="Win_QextSerialPort::getChar"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Win_QextSerialPort::getChar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>c</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads one character from the device and stores it in c. Returns true on success; otherwise returns false. This function has no effect if the serial port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea24">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00337                                          {
00338     LOCK_MUTEX();
00339     <span class="keywordtype">bool</span> retVal=<span class="keyword">false</span>;
00340     <span class="keywordflow">if</span> (portOpen) {
00341         <span class="keywordtype">char</span> readChar=0;
00342         COMSTAT Win_ComStat;
00343         DWORD Win_BytesRead=0;
00344         DWORD Win_ErrorMask=0;
00345         ClearCommError(Win_Handle, &amp;Win_ErrorMask, &amp;Win_ComStat);
00346         <span class="keywordflow">if</span> (Win_ComStat.cbInQue) {
00347             <span class="keywordflow">if</span> (!ReadFile(Win_Handle, (<span class="keywordtype">void</span>*)&amp;readChar, 1, &amp;Win_BytesRead, NULL)
00348                 || Win_BytesRead==0) {
00349                 <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_READ_FAILED;
00350             }
00351             <span class="keywordflow">else</span> {
00352                 *c = readChar;
00353                 retVal=<span class="keyword">true</span>;
00354             }
00355         }
00356     }
00357     UNLOCK_MUTEX();
00358     <span class="keywordflow">return</span> retVal;
00359 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta12" doxytag="Win_QextSerialPort::putChar"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Win_QextSerialPort::putChar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>c</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes the character c to the device. Returns true on success; otherwise returns false. This function has no effect if the serial port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea25">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00367                                        {
00368     LOCK_MUTEX();
00369     <span class="keywordtype">bool</span> retVal=<span class="keyword">false</span>;
00370     <span class="keywordflow">if</span> (portOpen) {
00371         DWORD Win_BytesWritten;
00372         <span class="keywordflow">if</span> (!WriteFile(Win_Handle, (<span class="keywordtype">void</span>*)&amp;c, 1, &amp;Win_BytesWritten, NULL)) {
00373             <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_WRITE_FAILED;
00374         }
00375         <span class="keywordflow">else</span> {
00376             retVal=<span class="keyword">true</span>;
00377         }
00378     }
00379     UNLOCK_MUTEX();
00380     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta9">flush</a>();
00381     <span class="keywordflow">return</span> retVal;
00382 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta13" doxytag="Win_QextSerialPort::ungetChar"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::ungetChar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>c</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is included to implement the full QIODevice interface, and currently has no purpose within this class. This function is meaningless on an unbuffered device and currently only prints a warning message to that effect. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea26">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00390                                          {
00391 
00392     <span class="comment">/*meaningless on unbuffered sequential device - return error and print a warning*/</span>
00393     TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: ungetChar() called on an unbuffered sequential device - operation is meaningless"</span>);
00394 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta14" doxytag="Win_QextSerialPort::setFlowControl"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setFlowControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a5">FlowType</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>flow</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the flow control used by the port. Possible values of flow are: <div class="fragment"><pre class="fragment">
    FLOW_OFF            No flow control
    FLOW_HARDWARE       Hardware (RTS/CTS) flow control
    FLOW_XONXOFF        Software (XON/XOFF) flow control
</pre></div> 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea14">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00405                                                      {
00406     LOCK_MUTEX();
00407     <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>!=flow) {
00408         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>=flow;
00409     }
00410     <span class="keywordflow">if</span> (portOpen) {
00411         <span class="keywordflow">switch</span>(flow) {
00412 
00413             <span class="comment">/*no flow control*/</span>
00414             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a56a48">FLOW_OFF</a>:
00415                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fOutxCtsFlow=FALSE;
00416                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fRtsControl=RTS_CONTROL_DISABLE;
00417                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fInX=FALSE;
00418                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fOutX=FALSE;
00419                 SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00420                 <span class="keywordflow">break</span>;
00421 
00422             <span class="comment">/*software (XON/XOFF) flow control*/</span>
00423             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a56a50">FLOW_XONXOFF</a>:
00424                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fOutxCtsFlow=FALSE;
00425                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fRtsControl=RTS_CONTROL_DISABLE;
00426                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fInX=TRUE;
00427                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fOutX=TRUE;
00428                 SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00429                 <span class="keywordflow">break</span>;
00430 
00431             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a56a49">FLOW_HARDWARE</a>:
00432                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fOutxCtsFlow=TRUE;
00433                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fRtsControl=RTS_CONTROL_HANDSHAKE;
00434                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fInX=FALSE;
00435                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fOutX=FALSE;
00436                 SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00437                 <span class="keywordflow">break</span>;
00438         }
00439     }
00440     UNLOCK_MUTEX();
00441 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta15" doxytag="Win_QextSerialPort::setParity"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setParity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a3">ParityType</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>parity</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the parity associated with the serial port. The possible values of parity are: <div class="fragment"><pre class="fragment">
    PAR_SPACE       Space Parity
    PAR_MARK        Mark Parity
    PAR_NONE        No Parity
    PAR_EVEN        Even Parity
    PAR_ODD         Odd Parity
</pre></div> 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea10">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00454                                                     {
00455     LOCK_MUTEX();
00456     <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>!=parity) {
00457         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>=parity;
00458     }
00459     <span class="keywordflow">if</span> (portOpen) {
00460         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>=(<span class="keywordtype">unsigned</span> char)parity;
00461         <span class="keywordflow">switch</span> (parity) {
00462 
00463             <span class="comment">/*space parity*/</span>
00464             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a54a44">PAR_SPACE</a>:
00465                 <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>==DATA_8) {
00466                     TTY_PORTABILITY_WARNING(<span class="stringliteral">"Win_QextSerialPort Portability Warning: Space parity with 8 data bits is not supported by POSIX systems."</span>);
00467                 }
00468                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fParity=TRUE;
00469                 <span class="keywordflow">break</span>;
00470 
00471             <span class="comment">/*mark parity - WINDOWS ONLY*/</span>
00472             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a54a43">PAR_MARK</a>:
00473                 TTY_PORTABILITY_WARNING(<span class="stringliteral">"Win_QextSerialPort Portability Warning:  Mark parity is not supported by POSIX systems"</span>);
00474                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fParity=TRUE;
00475                 <span class="keywordflow">break</span>;
00476 
00477             <span class="comment">/*no parity*/</span>
00478             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a54a40">PAR_NONE</a>:
00479                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fParity=FALSE;
00480                 <span class="keywordflow">break</span>;
00481 
00482             <span class="comment">/*even parity*/</span>
00483             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a54a42">PAR_EVEN</a>:
00484                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fParity=TRUE;
00485                 <span class="keywordflow">break</span>;
00486 
00487             <span class="comment">/*odd parity*/</span>
00488             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a54a41">PAR_ODD</a>:
00489                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.fParity=TRUE;
00490                 <span class="keywordflow">break</span>;
00491         }
00492         SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00493     }
00494     UNLOCK_MUTEX();
00495 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta16" doxytag="Win_QextSerialPort::setDataBits"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setDataBits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a2">DataBitsType</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dataBits</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the number of data bits used by the serial port. Possible values of dataBits are: <div class="fragment"><pre class="fragment">
    DATA_5      5 data bits
    DATA_6      6 data bits
    DATA_7      7 data bits
    DATA_8      8 data bits
</pre></div><p>
<dl compact><dt><b>Note:</b></dt><dd>This function is subject to the following restrictions: </dd></dl>
<dl compact><dt><b></b></dt><dd>5 data bits cannot be used with 2 stop bits. </dd></dl>
<dl compact><dt><b></b></dt><dd>1.5 stop bits can only be used with 5 data bits. </dd></dl>
<dl compact><dt><b></b></dt><dd>8 data bits cannot be used with space parity on POSIX systems. </dd></dl>

<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea8">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00517                                                           {
00518     LOCK_MUTEX();
00519     <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>!=dataBits) {
00520         <span class="keywordflow">if</span> ((<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>==STOP_2 &amp;&amp; dataBits==DATA_5) ||
00521             (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>==STOP_1_5 &amp;&amp; dataBits!=DATA_5)) {
00522         }
00523         <span class="keywordflow">else</span> {
00524             <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>=dataBits;
00525         }
00526     }
00527     <span class="keywordflow">if</span> (portOpen) {
00528         <span class="keywordflow">switch</span>(dataBits) {
00529 
00530             <span class="comment">/*5 data bits*/</span>
00531             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a53a36">DATA_5</a>:
00532                 <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>==STOP_2) {
00533                     TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: 5 Data bits cannot be used with 2 stop bits."</span>);
00534                 }
00535                 <span class="keywordflow">else</span> {
00536                     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.ByteSize=5;
00537                     SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00538                 }
00539                 <span class="keywordflow">break</span>;
00540 
00541             <span class="comment">/*6 data bits*/</span>
00542             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a53a37">DATA_6</a>:
00543                 <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>==STOP_1_5) {
00544                     TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: 6 Data bits cannot be used with 1.5 stop bits."</span>);
00545                 }
00546                 <span class="keywordflow">else</span> {
00547                     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.ByteSize=6;
00548                     SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00549                 }
00550                 <span class="keywordflow">break</span>;
00551 
00552             <span class="comment">/*7 data bits*/</span>
00553             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a53a38">DATA_7</a>:
00554                 <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>==STOP_1_5) {
00555                     TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: 7 Data bits cannot be used with 1.5 stop bits."</span>);
00556                 }
00557                 <span class="keywordflow">else</span> {
00558                     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.ByteSize=7;
00559                     SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00560                 }
00561                 <span class="keywordflow">break</span>;
00562 
00563             <span class="comment">/*8 data bits*/</span>
00564             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a53a39">DATA_8</a>:
00565                 <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>==STOP_1_5) {
00566                     TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: 8 Data bits cannot be used with 1.5 stop bits."</span>);
00567                 }
00568                 <span class="keywordflow">else</span> {
00569                     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.ByteSize=8;
00570                     SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00571                 }
00572                 <span class="keywordflow">break</span>;
00573         }
00574     }
00575     UNLOCK_MUTEX();
00576 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta17" doxytag="Win_QextSerialPort::setStopBits"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setStopBits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a4">StopBitsType</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stopBits</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the number of stop bits used by the serial port. Possible values of stopBits are: <div class="fragment"><pre class="fragment">
    STOP_1      1 stop bit
    STOP_1_5    1.5 stop bits
    STOP_2      2 stop bits
</pre></div><p>
<dl compact><dt><b>Note:</b></dt><dd>This function is subject to the following restrictions: </dd></dl>
<dl compact><dt><b></b></dt><dd>2 stop bits cannot be used with 5 data bits. </dd></dl>
<dl compact><dt><b></b></dt><dd>1.5 stop bits cannot be used with 6 or more data bits. </dd></dl>
<dl compact><dt><b></b></dt><dd>POSIX does not support 1.5 stop bits. </dd></dl>

<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea12">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00596                                                           {
00597     LOCK_MUTEX();
00598     <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>!=stopBits) {
00599         <span class="keywordflow">if</span> ((<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>==DATA_5 &amp;&amp; stopBits==STOP_2) ||
00600             (stopBits==STOP_1_5 &amp;&amp; <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>!=DATA_5)) {
00601         }
00602         <span class="keywordflow">else</span> {
00603             <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>=stopBits;
00604         }
00605     }
00606     <span class="keywordflow">if</span> (portOpen) {
00607         <span class="keywordflow">switch</span> (stopBits) {
00608 
00609             <span class="comment">/*one stop bit*/</span>
00610             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a55a45">STOP_1</a>:
00611                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>=ONESTOPBIT;
00612                 SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00613                 <span class="keywordflow">break</span>;
00614 
00615             <span class="comment">/*1.5 stop bits*/</span>
00616             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a55a46">STOP_1_5</a>:
00617                 TTY_PORTABILITY_WARNING(<span class="stringliteral">"Win_QextSerialPort Portability Warning: 1.5 stop bit operation is not supported by POSIX."</span>);
00618                 <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>!=DATA_5) {
00619                     TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: 1.5 stop bits can only be used with 5 data bits"</span>);
00620                 }
00621                 <span class="keywordflow">else</span> {
00622                     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>=ONE5STOPBITS;
00623                     SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00624                 }
00625                 <span class="keywordflow">break</span>;
00626 
00627             <span class="comment">/*two stop bits*/</span>
00628             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a55a47">STOP_2</a>:
00629                 <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>==DATA_5) {
00630                     TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: 2 stop bits cannot be used with 5 data bits"</span>);
00631                 }
00632                 <span class="keywordflow">else</span> {
00633                     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>=TWOSTOPBITS;
00634                     SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00635                 }
00636                 <span class="keywordflow">break</span>;
00637         }
00638     }
00639     UNLOCK_MUTEX();
00640 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta18" doxytag="Win_QextSerialPort::setBaudRate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setBaudRate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a1">BaudRateType</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>baudRate</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the baud rate of the serial port. Note that not all rates are applicable on all platforms. The following table shows translations of the various baud rate constants on Windows(including NT/2000) and POSIX platforms. Speeds marked with an * are speeds that are usable on both Windows and POSIX. <div class="fragment"><pre class="fragment">

  RATE          Windows Speed   POSIX Speed
  -----------   -------------   -----------
   BAUD50                 110          50
   BAUD75                 110          75
  *BAUD110                110         110
   BAUD134                110         134.5
   BAUD150                110         150
   BAUD200                110         200
  *BAUD300                300         300
  *BAUD600                600         600
  *BAUD1200              1200        1200
   BAUD1800              1200        1800
  *BAUD2400              2400        2400
  *BAUD4800              4800        4800
  *BAUD9600              9600        9600
   BAUD14400            14400        9600
  *BAUD19200            19200       19200
  *BAUD38400            38400       38400
   BAUD56000            56000       38400
  *BAUD57600            57600       57600
   BAUD76800            57600       76800
  *BAUD115200          115200      115200
   BAUD128000          128000      115200
   BAUD256000          256000      115200
</pre></div> 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea6">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00676                                                           {
00677     LOCK_MUTEX();
00678     <span class="keywordflow">if</span> (<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>!=baudRate) {
00679         <span class="keywordflow">switch</span> (baudRate) {
00680             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a14">BAUD50</a>:
00681             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a15">BAUD75</a>:
00682             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a17">BAUD134</a>:
00683             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a18">BAUD150</a>:
00684             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a19">BAUD200</a>:
00685                 <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=<a class="code" href="qextserialbase_8h.html#a52a16">BAUD110</a>;
00686                 <span class="keywordflow">break</span>;
00687 
00688             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a23">BAUD1800</a>:
00689                 <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=<a class="code" href="qextserialbase_8h.html#a52a22">BAUD1200</a>;
00690                 <span class="keywordflow">break</span>;
00691 
00692             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a32">BAUD76800</a>:
00693                 <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=<a class="code" href="qextserialbase_8h.html#a52a31">BAUD57600</a>;
00694                 <span class="keywordflow">break</span>;
00695 
00696             <span class="keywordflow">default</span>:
00697                 <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=baudRate;
00698                 <span class="keywordflow">break</span>;
00699         }
00700     }
00701     <span class="keywordflow">if</span> (portOpen) {
00702         <span class="keywordflow">switch</span> (baudRate) {
00703 
00704             <span class="comment">/*50 baud*/</span>
00705             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a14">BAUD50</a>:
00706                 TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: Windows does not support 50 baud operation.  Switching to 110 baud."</span>);
00707                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_110;
00708                 <span class="keywordflow">break</span>;
00709 
00710             <span class="comment">/*75 baud*/</span>
00711             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a15">BAUD75</a>:
00712                 TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: Windows does not support 75 baud operation.  Switching to 110 baud."</span>);
00713                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_110;
00714                 <span class="keywordflow">break</span>;
00715 
00716             <span class="comment">/*110 baud*/</span>
00717             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a16">BAUD110</a>:
00718                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_110;
00719                 <span class="keywordflow">break</span>;
00720 
00721             <span class="comment">/*134.5 baud*/</span>
00722             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a17">BAUD134</a>:
00723                 TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: Windows does not support 134.5 baud operation.  Switching to 110 baud."</span>);
00724                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_110;
00725                 <span class="keywordflow">break</span>;
00726 
00727             <span class="comment">/*150 baud*/</span>
00728             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a18">BAUD150</a>:
00729                 TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: Windows does not support 150 baud operation.  Switching to 110 baud."</span>);
00730                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_110;
00731                 <span class="keywordflow">break</span>;
00732 
00733             <span class="comment">/*200 baud*/</span>
00734             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a19">BAUD200</a>:
00735                 TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: Windows does not support 200 baud operation.  Switching to 110 baud."</span>);
00736                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_110;
00737                 <span class="keywordflow">break</span>;
00738 
00739             <span class="comment">/*300 baud*/</span>
00740             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a20">BAUD300</a>:
00741                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_300;
00742                 <span class="keywordflow">break</span>;
00743 
00744             <span class="comment">/*600 baud*/</span>
00745             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a21">BAUD600</a>:
00746                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_600;
00747                 <span class="keywordflow">break</span>;
00748 
00749             <span class="comment">/*1200 baud*/</span>
00750             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a22">BAUD1200</a>:
00751                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_1200;
00752                 <span class="keywordflow">break</span>;
00753 
00754             <span class="comment">/*1800 baud*/</span>
00755             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a23">BAUD1800</a>:
00756                 TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: Windows does not support 1800 baud operation.  Switching to 1200 baud."</span>);
00757                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_1200;
00758                 <span class="keywordflow">break</span>;
00759 
00760             <span class="comment">/*2400 baud*/</span>
00761             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a24">BAUD2400</a>:
00762                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_2400;
00763                 <span class="keywordflow">break</span>;
00764 
00765             <span class="comment">/*4800 baud*/</span>
00766             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a25">BAUD4800</a>:
00767                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_4800;
00768                 <span class="keywordflow">break</span>;
00769 
00770             <span class="comment">/*9600 baud*/</span>
00771             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a26">BAUD9600</a>:
00772                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_9600;
00773                 <span class="keywordflow">break</span>;
00774 
00775             <span class="comment">/*14400 baud*/</span>
00776             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a27">BAUD14400</a>:
00777                 TTY_PORTABILITY_WARNING(<span class="stringliteral">"Win_QextSerialPort Portability Warning: POSIX does not support 14400 baud operation."</span>);
00778                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_14400;
00779                 <span class="keywordflow">break</span>;
00780 
00781             <span class="comment">/*19200 baud*/</span>
00782             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a28">BAUD19200</a>:
00783                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_19200;
00784                 <span class="keywordflow">break</span>;
00785 
00786             <span class="comment">/*38400 baud*/</span>
00787             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a29">BAUD38400</a>:
00788                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_38400;
00789                 <span class="keywordflow">break</span>;
00790 
00791             <span class="comment">/*56000 baud*/</span>
00792             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a30">BAUD56000</a>:
00793                 TTY_PORTABILITY_WARNING(<span class="stringliteral">"Win_QextSerialPort Portability Warning: POSIX does not support 56000 baud operation."</span>);
00794                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_56000;
00795                 <span class="keywordflow">break</span>;
00796 
00797             <span class="comment">/*57600 baud*/</span>
00798             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a31">BAUD57600</a>:
00799                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_57600;
00800                 <span class="keywordflow">break</span>;
00801 
00802             <span class="comment">/*76800 baud*/</span>
00803             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a32">BAUD76800</a>:
00804                 TTY_WARNING(<span class="stringliteral">"Win_QextSerialPort: Windows does not support 76800 baud operation.  Switching to 57600 baud."</span>);
00805                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_57600;
00806                 <span class="keywordflow">break</span>;
00807 
00808             <span class="comment">/*115200 baud*/</span>
00809             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a33">BAUD115200</a>:
00810                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_115200;
00811                 <span class="keywordflow">break</span>;
00812 
00813             <span class="comment">/*128000 baud*/</span>
00814             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a34">BAUD128000</a>:
00815                 TTY_PORTABILITY_WARNING(<span class="stringliteral">"Win_QextSerialPort Portability Warning: POSIX does not support 128000 baud operation."</span>);
00816                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_128000;
00817                 <span class="keywordflow">break</span>;
00818 
00819             <span class="comment">/*256000 baud*/</span>
00820             <span class="keywordflow">case</span> <a class="code" href="qextserialbase_8h.html#a52a35">BAUD256000</a>:
00821                 TTY_PORTABILITY_WARNING(<span class="stringliteral">"Win_QextSerialPort Portability Warning: POSIX does not support 256000 baud operation."</span>);
00822                 <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_CommConfig</a>.dcb.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=CBR_256000;
00823                 <span class="keywordflow">break</span>;
00824         }
00825         SetCommConfig(Win_Handle, &amp;Win_CommConfig, <span class="keyword">sizeof</span>(COMMCONFIG));
00826     }
00827     UNLOCK_MUTEX();
00828 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta19" doxytag="Win_QextSerialPort::setDtr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setDtr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>set</em> = <code>true</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets DTR line to the requested state (high by default). This function will have no effect if the port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea30">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00835                                         {
00836     LOCK_MUTEX();
00837     <span class="keywordflow">if</span> (portOpen) {
00838         <span class="keywordflow">if</span> (set) {
00839             EscapeCommFunction(Win_Handle, SETDTR);
00840         }
00841         <span class="keywordflow">else</span> {
00842             EscapeCommFunction(Win_Handle, CLRDTR);
00843         }
00844     }
00845     UNLOCK_MUTEX();
00846 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta20" doxytag="Win_QextSerialPort::setRts"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setRts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>set</em> = <code>true</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets RTS line to the requested state (high by default). This function will have no effect if the port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea31">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00853                                         {
00854     LOCK_MUTEX();
00855     <span class="keywordflow">if</span> (portOpen) {
00856         <span class="keywordflow">if</span> (set) {
00857             EscapeCommFunction(Win_Handle, SETRTS);
00858         }
00859         <span class="keywordflow">else</span> {
00860             EscapeCommFunction(Win_Handle, CLRRTS);
00861         }
00862     }
00863     UNLOCK_MUTEX();
00864 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta21" doxytag="Win_QextSerialPort::lineStatus"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long Win_QextSerialPort::lineStatus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
returns the line status as stored by the port function. This function will retrieve the states of the following lines: DCD, CTS, DSR, and RI. On POSIX systems, the following additional lines can be monitored: DTR, RTS, Secondary TXD, and Secondary RXD. The value returned is an unsigned long with specific bits indicating which lines are high. The following constants should be used to examine the states of individual lines:<p>
<div class="fragment"><pre class="fragment">
Mask        Line
------      ----
LS_CTS      CTS
LS_DSR      DSR
LS_DCD      DCD
LS_RI       RI
</pre></div><p>
This function will return 0 if the port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea32">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00885                                                  {
00886     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Status=0, Temp=0;
00887     LOCK_MUTEX();
00888     <span class="keywordflow">if</span> (portOpen) {
00889         GetCommModemStatus(Win_Handle, &amp;Temp);
00890         <span class="keywordflow">if</span> (Temp&amp;MS_CTS_ON) {
00891             Status|=LS_CTS;
00892         }
00893         <span class="keywordflow">if</span> (Temp&amp;MS_DSR_ON) {
00894             Status|=LS_DSR;
00895         }
00896         <span class="keywordflow">if</span> (Temp&amp;MS_RING_ON) {
00897             Status|=LS_RI;
00898         }
00899         <span class="keywordflow">if</span> (Temp&amp;MS_RLSD_ON) {
00900             Status|=LS_DCD;
00901         }
00902     }
00903     UNLOCK_MUTEX();
00904     <span class="keywordflow">return</span> Status;
00905 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta22" doxytag="Win_QextSerialPort::bytesAvailable"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">qint64 Win_QextSerialPort::bytesAvailable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of bytes waiting in the port's receive queue. This function will return 0 if the port is not currently open, or -1 on error. Error information can be retrieved by calling Win_QextSerialPort::getLastError(). 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea22">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00225                                           {
00226     LOCK_MUTEX();
00227     <span class="keywordflow">if</span> (portOpen) {
00228         DWORD Errors;
00229         COMSTAT Status;
00230         <span class="keywordtype">bool</span> success=ClearCommError(Win_Handle, &amp;Errors, &amp;Status);
00231         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta23">translateError</a>(Errors);
00232         <span class="keywordflow">if</span> (success) {
00233             <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_NO_ERROR;
00234             UNLOCK_MUTEX();
00235             <span class="keywordflow">return</span> Status.cbInQue;
00236         }
00237         UNLOCK_MUTEX();
00238         <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)-1;
00239     }
00240     UNLOCK_MUTEX();
00241     <span class="keywordflow">return</span> 0;
00242 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta23" doxytag="Win_QextSerialPort::translateError"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::translateError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>error</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Translates a system-specific error code to a <a class="el" href="classQextSerialPort.html">QextSerialPort</a> error code. Used internally. <div class="fragment"><pre class="fragment">00248                                                            {
00249     <span class="keywordflow">if</span> (error&amp;CE_BREAK) {
00250         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_BREAK_CONDITION;
00251     }
00252     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error&amp;CE_FRAME) {
00253         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_FRAMING_ERROR;
00254     }
00255     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error&amp;CE_IOE) {
00256         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_IO_ERROR;
00257     }
00258     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error&amp;CE_MODE) {
00259         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_INVALID_FD;
00260     }
00261     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error&amp;CE_OVERRUN) {
00262         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_BUFFER_OVERRUN;
00263     }
00264     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error&amp;CE_RXPARITY) {
00265         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_RECEIVE_PARITY_ERROR;
00266     }
00267     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error&amp;CE_RXOVER) {
00268         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_RECEIVE_OVERFLOW;
00269     }
00270     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error&amp;CE_TXFULL) {
00271         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_TRANSMIT_OVERFLOW;
00272     }
00273 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta24" doxytag="Win_QextSerialPort::setTimeout"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Win_QextSerialPort::setTimeout           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>sec</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>millisec</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the read and write timeouts for the port to sec seconds and millisec milliseconds. <div class="fragment"><pre class="fragment">00911                                                                              {
00912     LOCK_MUTEX();
00913     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso5">Timeout_Sec</a>=sec;
00914     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso6">Timeout_Millisec</a>=millisec;
00915     <span class="keywordflow">if</span>(<a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>) {
00916         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_CommTimeouts</a>.ReadIntervalTimeout = sec*1000+millisec;
00917         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_CommTimeouts</a>.ReadTotalTimeoutMultiplier = sec*1000+millisec;
00918         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_CommTimeouts</a>.ReadTotalTimeoutConstant = 0;
00919         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_CommTimeouts</a>.WriteTotalTimeoutMultiplier = sec*1000+millisec;
00920         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_CommTimeouts</a>.WriteTotalTimeoutConstant = 0;
00921         SetCommTimeouts(Win_Handle, &amp;Win_CommTimeouts);
00922     }
00923     UNLOCK_MUTEX();
00924 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta25" doxytag="Win_QextSerialPort::readData"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">qint64 Win_QextSerialPort::readData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>qint64&nbsp;</td>
          <td class="mdname" nowrap> <em>maxSize</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads a block of data from the serial port. This function will read at most maxlen bytes from the serial port and place them in the buffer pointed to by data. Return value is the number of bytes actually read, or -1 on error. This function will have no effect if the serial port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea33">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00283 {
00284     LOCK_MUTEX();
00285     <span class="keywordtype">int</span> retVal=0;
00286     <span class="keywordflow">if</span> (portOpen) {
00287         COMSTAT Win_ComStat;
00288         DWORD Win_BytesRead=0;
00289         DWORD Win_ErrorMask=0;
00290         ClearCommError(Win_Handle, &amp;Win_ErrorMask, &amp;Win_ComStat);
00291         <span class="keywordflow">if</span> (Win_ComStat.cbInQue &amp;&amp;
00292             (!ReadFile(Win_Handle, (<span class="keywordtype">void</span>*)data, (DWORD)maxSize, &amp;Win_BytesRead, NULL)
00293             || Win_BytesRead==0)) {
00294             <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_READ_FAILED;
00295             retVal=-1;
00296         }
00297         <span class="keywordflow">else</span> {
00298             retVal=((int)Win_BytesRead);
00299         }
00300     }
00301     UNLOCK_MUTEX();
00302     <span class="keywordflow">return</span> retVal;
00303 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta26" doxytag="Win_QextSerialPort::writeData"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">qint64 Win_QextSerialPort::writeData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>qint64&nbsp;</td>
          <td class="mdname" nowrap> <em>maxSize</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes a block of data to the serial port. This function will write len bytes from the buffer pointed to by data to the serial port. Return value is the number of bytes actually written, or -1 on error. This function will have no effect if the serial port associated with the class is not currently open. 
<p>
Implements <a class="el" href="classQextSerialBase.html#QextSerialBasea34">QextSerialBase</a>.<div class="fragment"><pre class="fragment">00313 {
00314     LOCK_MUTEX();
00315     <span class="keywordtype">int</span> retVal=0;
00316     <span class="keywordflow">if</span> (portOpen) {
00317         DWORD Win_BytesWritten;
00318         <span class="keywordflow">if</span> (!WriteFile(Win_Handle, (<span class="keywordtype">void</span>*)data, (DWORD)maxSize, &amp;Win_BytesWritten, NULL)) {
00319             <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>=E_WRITE_FAILED;
00320             retVal=-1;
00321         }
00322         <span class="keywordflow">else</span> {
00323             retVal=((int)Win_BytesWritten);
00324         }
00325     }
00326     UNLOCK_MUTEX();
00327     <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta9">flush</a>();
00328     <span class="keywordflow">return</span> retVal;
00329 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta27" doxytag="Win_QextSerialPort::construct"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void QextSerialBase::construct           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Common constructor function for setting up default port settings. (115200 Baud, 8N1, Hardware flow control where supported, otherwise no flow control, and 500 ms timeout). <div class="fragment"><pre class="fragment">00083 {
00084     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>=<a class="code" href="qextserialbase_8h.html#a52a33">BAUD115200</a>;
00085     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>=<a class="code" href="qextserialbase_8h.html#a53a39">DATA_8</a>;
00086     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>=<a class="code" href="qextserialbase_8h.html#a54a40">PAR_NONE</a>;
00087     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>=<a class="code" href="qextserialbase_8h.html#a55a45">STOP_1</a>;
00088     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>=<a class="code" href="qextserialbase_8h.html#a56a49">FLOW_HARDWARE</a>;
00089     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso5">Timeout_Sec</a>=0;
00090     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso6">Timeout_Millisec</a>=500;
00091 
00092 <span class="preprocessor">#ifdef QT_THREAD_SUPPORT</span>
00093 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (!mutex) {
00094         <a class="code" href="classQextSerialBase.html#Win__QextSerialPortt0">mutex</a>=<span class="keyword">new</span> QMutex( QMutex::Recursive );
00095     }
00096     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortt1">refCount</a>++;
00097 <span class="preprocessor">#endif</span>
00098 <span class="preprocessor"></span>
00099     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>=<span class="keyword">false</span>;
00100 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta28" doxytag="Win_QextSerialPort::setPortName"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void QextSerialBase::setPortName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QString &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the name of the device associated with the object, e.g. "COM1", or "/dev/ttyS0". <div class="fragment"><pre class="fragment">00107 {
00108     <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp3">port</a> = name;
00109 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta29" doxytag="Win_QextSerialPort::portName"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">QString QextSerialBase::portName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the name set by <a class="el" href="classQextSerialBase.html#Win__QextSerialPorta28">setPortName()</a>. <div class="fragment"><pre class="fragment">00116 {
00117     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp3">port</a>;
00118 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta30" doxytag="Win_QextSerialPort::baudRate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a1">BaudRateType</a> QextSerialBase::baudRate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the baud rate of the serial port. For a list of possible return values see the definition of the enum BaudRateType. <div class="fragment"><pre class="fragment">00126 {
00127     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso0">BaudRate</a>;
00128 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta31" doxytag="Win_QextSerialPort::dataBits"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a2">DataBitsType</a> QextSerialBase::dataBits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of data bits used by the port. For a list of possible values returned by this function, see the definition of the enum DataBitsType. <div class="fragment"><pre class="fragment">00136 {
00137     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso1">DataBits</a>;
00138 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta32" doxytag="Win_QextSerialPort::parity"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a3">ParityType</a> QextSerialBase::parity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the type of parity used by the port. For a list of possible values returned by this function, see the definition of the enum ParityType. <div class="fragment"><pre class="fragment">00146 {
00147     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso2">Parity</a>;
00148 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta33" doxytag="Win_QextSerialPort::stopBits"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a4">StopBitsType</a> QextSerialBase::stopBits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of stop bits used by the port. For a list of possible return values, see the definition of the enum StopBitsType. <div class="fragment"><pre class="fragment">00156 {
00157     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso3">StopBits</a>;
00158 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta34" doxytag="Win_QextSerialPort::flowControl"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="qextserialbase_8h.html#a5">FlowType</a> QextSerialBase::flowControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the type of flow control used by the port. For a list of possible values returned by this function, see the definition of the enum FlowType. <div class="fragment"><pre class="fragment">00166 {
00167     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp5">Settings</a>.<a class="code" href="struct__PortSettings.html#__PortSettingso4">FlowControl</a>;
00168 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta35" doxytag="Win_QextSerialPort::setTimeout"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void QextSerialBase::setTimeout           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ulong&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ulong&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implemented in <a class="el" href="classPosix__QextSerialPort.html#Posix__QextSerialPorta12">Posix_QextSerialPort</a>.    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta36" doxytag="Win_QextSerialPort::open"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool QextSerialBase::open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">OpenMode&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mode</em> = <code>0</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implemented in <a class="el" href="classPosix__QextSerialPort.html#Posix__QextSerialPorta13">Posix_QextSerialPort</a>.    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta37" doxytag="Win_QextSerialPort::isOpen"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool QextSerialBase::isOpen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns true if the port associated with the class is currently open, or false if it is not. <div class="fragment"><pre class="fragment">00175 {
00176     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp4">portOpen</a>;
00177 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta38" doxytag="Win_QextSerialPort::atEnd"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool QextSerialBase::atEnd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function will return true if the input buffer is empty (or on error), and false otherwise. Call <a class="el" href="classQextSerialBase.html#Win__QextSerialPorta40">QextSerialBase::lastError()</a> for error information. <div class="fragment"><pre class="fragment">00185 {
00186     <span class="keywordflow">if</span> (<a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta10">size</a>()) {
00187         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00188     }
00189     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00190 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta39" doxytag="Win_QextSerialPort::readLine"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">qint64 QextSerialBase::readLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>qint64&nbsp;</td>
          <td class="mdname" nowrap> <em>maxSize</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function will read a line of buffered input from the port, stopping when either maxSize bytes have been read, the port has no more data available, or a newline is encountered. The value returned is the length of the string that was read. <div class="fragment"><pre class="fragment">00199 {
00200     qint64 numBytes = <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta22">bytesAvailable</a>();
00201     <span class="keywordtype">char</span>* pData = data;
00202 
00203     <span class="comment">/*if nothing waiting, return 0 length*/</span>
00204     <span class="keywordflow">if</span> (numBytes&lt;1) {
00205         <span class="keywordflow">return</span> 0;
00206     }
00207 
00208     <span class="comment">/*read a byte at a time for MIN(bytesAvail, maxSize) iterations, or until a newline*/</span>
00209     <span class="keywordflow">while</span> (pData&lt;(data+numBytes) &amp;&amp; --maxSize) {
00210         <a class="code" href="classWin__QextSerialPort.html#Win__QextSerialPorta25">readData</a>(pData, 1);
00211         <span class="keywordflow">if</span> (*pData++ == <span class="charliteral">'\n'</span>) {
00212             <span class="keywordflow">break</span>;
00213         }
00214     }
00215     *pData++=<span class="charliteral">'\0'</span>;
00216 
00217     <span class="comment">/*return size of data read*/</span>
00218     <span class="keywordflow">return</span> (pData-data);
00219 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta40" doxytag="Win_QextSerialPort::lastError"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ulong QextSerialBase::lastError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the code for the last error encountered by the port, or E_NO_ERROR if the last port operation was successful. Possible error codes are:<p>
<div class="fragment"><pre class="fragment">
Error                           Explanation
---------------------------     -------------------------------------------------------------
E_NO_ERROR                      No Error has occured
E_INVALID_FD                    Invalid file descriptor (port was not opened correctly)
E_NO_MEMORY                     Unable to allocate memory tables (POSIX)
E_CAUGHT_NON_BLOCKED_SIGNAL     Caught a non-blocked signal (POSIX)
E_PORT_TIMEOUT                  Operation timed out (POSIX)
E_INVALID_DEVICE                The file opened by the port is not a character device (POSIX)
E_BREAK_CONDITION               The port detected a break condition
E_FRAMING_ERROR                 The port detected a framing error
                                (usually caused by incorrect baud rate settings)
E_IO_ERROR                      There was an I/O error while communicating with the port
E_BUFFER_OVERRUN                Character buffer overrun
E_RECEIVE_OVERFLOW              Receive buffer overflow
E_RECEIVE_PARITY_ERROR          The port detected a parity error in the received data
E_TRANSMIT_OVERFLOW             Transmit buffer overflow
E_READ_FAILED                   General read operation failure
E_WRITE_FAILED                  General write operation failure
</pre></div> <div class="fragment"><pre class="fragment">00248 {
00249     <span class="keywordflow">return</span> <a class="code" href="classQextSerialBase.html#Win__QextSerialPortp6">lastErr</a>;
00250 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPorta41" doxytag="Win_QextSerialPort::translateError"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void QextSerialBase::translateError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ulong&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>error</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual, inherited]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implemented in <a class="el" href="classPosix__QextSerialPort.html#Posix__QextSerialPorta21">Posix_QextSerialPort</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="Win__QextSerialPortp0" doxytag="Win_QextSerialPort::Win_Handle"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">HANDLE <a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPortp0">Win_QextSerialPort::Win_Handle</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortp1" doxytag="Win_QextSerialPort::Win_CommConfig"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">COMMCONFIG <a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPortp1">Win_QextSerialPort::Win_CommConfig</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortp2" doxytag="Win_QextSerialPort::Win_CommTimeouts"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">COMMTIMEOUTS <a class="el" href="classWin__QextSerialPort.html#Win__QextSerialPortp2">Win_QextSerialPort::Win_CommTimeouts</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortp3" doxytag="Win_QextSerialPort::port"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">QString <a class="el" href="classQextSerialBase.html#Win__QextSerialPortp3">QextSerialBase::port</a><code> [protected, inherited]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortp4" doxytag="Win_QextSerialPort::portOpen"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="classQextSerialBase.html#Win__QextSerialPortp4">QextSerialBase::portOpen</a><code> [protected, inherited]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortp5" doxytag="Win_QextSerialPort::Settings"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__PortSettings.html">PortSettings</a> <a class="el" href="classQextSerialBase.html#Win__QextSerialPortp5">QextSerialBase::Settings</a><code> [protected, inherited]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortp6" doxytag="Win_QextSerialPort::lastErr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ulong <a class="el" href="classQextSerialBase.html#Win__QextSerialPortp6">QextSerialBase::lastErr</a><code> [protected, inherited]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortt0" doxytag="Win_QextSerialPort::mutex"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">QMutex * <a class="el" href="classQextSerialBase.html#Win__QextSerialPortt0">QextSerialBase::mutex</a> = NULL<code> [static, protected, inherited]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="Win__QextSerialPortt1" doxytag="Win_QextSerialPort::refCount"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="classQextSerialBase.html#Win__QextSerialPortt1">QextSerialBase::refCount</a> = 0<code> [static, protected, inherited]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="win__qextserialport_8h.html">win_qextserialport.h</a><li><a class="el" href="win__qextserialport_8cpp.html">win_qextserialport.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sat Oct 15 14:12:21 2005 for QextSerialPort by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
